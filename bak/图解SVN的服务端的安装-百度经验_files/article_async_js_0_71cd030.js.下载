define("article:widget/ui/article-log/article-log.js",function(e,n,t){var i=e("common-jquery:widget/lib/jquery/jquery.js"),o=e("common-jquery:widget/js/logic/log/log.js"),a=function(){var e="/static/article/ui/log/log.gif",n={},t=(new Date).getTime();i.each(effBaiduAds,function(e,t){var o=i("#"+bdAdsPrefix+t);o.length&&(n[t]=0,o.on("click",function(){n[t]++}))});var a=[];i(document).on("mouseover",function(){a.length>100||a.push(1)}),i(window).on("beforeunload",function(){var r=document.referrer||"";if(""!==r){var c=[];c.push("eid="+F.context("eid")),c.push("ep="+((new Date).getTime()-t));var l=[];i.each(n,function(e,n){l.push(e+":"+n)}),c.push("ad="+l.join(",")),c.push(a.length>5?"iu=1":"iu=0");var u=document.createElement("img");if(u.src=e+"?"+c.join("&"),window["___article_img_"+1*new Date]=u,a.length>5)var s=1;else var s=0;o.send(location.href,1e3,{action:"expHX",evtType:"observe",eid:F.context("eid"),ep:(new Date).getTime()-t,iu:s})}})},r=function(){var e=i("#relate-explist");if(e.length){var n=i(".related-exp-link",e);o.send(location.href,1e3,{action:"show_relate_exp",evtType:"show",count:n.length})}else o.send(location.href,1e3,{action:"not_show_relate_exp",evtType:"show"})};t.exports.init=function(){i(window).on("load",function(){a(),r()})}});
;define("article:widget/ui/auto-app/auto-app.js",function(a,s,e){var n=a("common-jquery:widget/lib/jquery/jquery.js"),i=a("common-jquery:widget/js/logic/log/log.js"),l=function(a){var s="";return s=a>Math.pow(1024,3)?Math.round(a/Math.pow(1024,3)*100)/100+"G":a>Math.pow(1024,2)?Math.round(a/Math.pow(1024,2)*100)/100+"M":a>1024?Math.round(a/Math.pow(1024,1)*100)/100+"K":a};e.exports.init=function(a,s){n.ajax({url:"/asyncreq",type:"get",dataType:"json",data:{method:"getApp",title:a,word:s},success:function(a){if(0===a.errno){var s=n("#auto-app-placehold"),e=a.data;if(e&&e.sname){var t=['<div class="exp-content-block">','<h2 class="exp-content-head">软件基本信息</h2>','<div class="app-dl-mdl">','<div class="app-dl-icon">','<img title="',e.sname||"",'" src="',e.icon||"",'" /></div>','<div class="app-dl-info"><div class="app-dl-titl">','<span class="mdl-item-name">名称：</span><span class="mdl-item-value">',e.sname||"","</span></div>",'<div class="app-dl-meta">','<span class="mdl-item-name">大小：</span><span class="mdl-item-value">',l(e.size||0),'<b class="s-line">|</b></span>','<span class="mdl-item-name">版本：</span><span class="mdl-item-value">',e.version||"",'<b class="s-line">|</b></span>','<span class="mdl-item-name">系统：</span>','<span class="mdl-item-value">Android</span></div></div><div class="app-dl-link">','<a id="dl-log-stat" title="下载该应用" href="',e.address||"",'"></a>',"<span>内容由百度移动应用提供</span></div></div></div>"].join("");s.html(t);var d=3008,p=location.href;n("#dl-log-stat").on("click",function(){i.send(p,d,{evtType:"click",item:"1"})}),i.send(p,d,{evtType:"click",item:"0"})}}},error:function(){}})}});
;define("article:widget/ui/auto-locate-pic/auto-locate-pic.js",function(t,e,o){var i=t("common:widget/lib/tangram/base/base.js"),n=(t("common:widget/ui/dialog/dialog.js"),t("common:widget/lib/fis/event/event.js").eventCenter),l=i.browser.ie||i.browser.firefox?document.documentElement:document.body,r=i.page.getViewHeight(),s=function(t,e){for(var o=i.page.getScrollTop(),n=10,l=1;10>=l;l++)void function(e,o,i,n){setTimeout(function(){t.scrollTop=o+(i-o)/n*e},16*e)}(l,o,e,n)},c=function(t){var e=i.dom.q("content-list-image")[t],o=i.dom.query("img",e)[0],n={target:e,height:parseInt(i.dom.getStyle(o,"height"))};return n.pos=i.dom.getPosition(e),n},d=function(t,e){var o=i.dom.create("div",{"class":"scroll-tip"}),s=scrollTipWidth=0,c=i.dom.getAncestorByClass(t,"content-list-media"),d=i.dom.getPosition(c).left,a=parseInt(i.dom.getStyle(c,"width"));l.appendChild(o),s=parseInt(i.dom.getStyle(o,"height")),scrollTipWidth=parseInt(i.dom.getStyle(o,"width")),i.dom.setStyles(o,{top:e+(r-s)/2+"px",left:d+(a-scrollTipWidth)/2+"px"}),n.on("scrollTip.close",function(){i.dom.q("scroll-tip").length&&i.dom.remove(i.dom.q("scroll-tip")[0])})};o.exports.init=function(t){var e={},o=0,i=0;s(l,0),setTimeout(function(){var n=setInterval(function(){e=c(t),o=r>e.height?(r-e.height)/2:0,i=e.pos.top-o,l.scrollTop<=i+5&&l.scrollTop>=i-5?(clearInterval(n),d(e.target,i)):s(l,i)},300)},500)}});
;define("article:widget/ui/image-lazy-loader/base.js",function(t,o,e){var i=t("common:widget/lib/tangram/base/base.js"),n=document,a="defalut",r={diff:300,isValidContainer:function(t){return 9!=t.nodeType},inDocument:function(t){return i.dom.contains(n.body,t)},isCross:function(t,o){var e={};return e.top=Math.max(parseFloat(t.top),parseFloat(o.top)),e.bottom=Math.min(parseFloat(t.bottom),parseFloat(o.bottom)),e.left=Math.max(parseFloat(t.left),parseFloat(o.left)),e.right=Math.min(parseFloat(t.right),parseFloat(o.right)),e.bottom>=e.top&&e.right>=e.left},isWindow:function(t){return!!t.window&&t.window===t.window.window},_getBoundingRect:function(t){var o,e,n,r,s=this;if(void 0===t||s.isWindow(t)||9==t.nodeType)o=i.page.getViewHeight(),e=i.page.getViewWidth(),n=i.page.getScrollLeft(),r=i.page.getScrollTop();else{o=t.offsetHeight,e=t.offsetWidth;var f=i.dom.getPosition(t);n=f.left,r=f.top}var l=this.diff,g=l===a?e:l,d=0,p=g,h=l===a?o:l,m=0,u=h,c=n+e,w=r+o;return"object"==typeof l&&(d=l.left||0,p=l.right||0,m=l.top||0,u=l.bottom||0),n-=d,c+=p,r-=m,w+=u,{left:n,top:r,right:c,bottom:w}},_checkElemInViewport:function(t){var o,e,n=this,a=i.dom.getPosition(t),r=!0,s=null,f=n._getBoundingRect(),l=a.left,g=a.top,d={left:l,top:g,right:l+t.offsetWidth,bottom:g+t.offsetHeight};return s&&(e=n._getBoundingRect(s),r=n.isCross(e,d)),o=n.isCross(f,d),r&&o}};e.exports=r});
;define("article:widget/ui/image-lazy-loader/image-lazy-loader.js",function(t,e,n){var o=t("common:widget/lib/tangram/base/base.js"),i=t("article:widget/ui/image-lazy-loader/base.js"),a=window,r=document,l="scroll",s="touchmove",m="resize",d="data-src",g=100;t("common:widget/lib/tangram/fx/fadeIn/fadeIn.js");var c=function(t){var e=this,n=t.container?o.g(t.container):r;e.containers=o.lang.toArray(n),e.option={imgCls:"lazy-load-img",autoDestroy:!0,isCheckAttr:"data-is-check",imgAttr:["width","height","style"]},e.imageEls=[],e.remainEls=[],t=t||{},o.object.extend(e.option,t),e._init()};c.prototype={_init:function(){var t=this;t._filterItems(),0!=t._getItemsLength()&&t._initLoadEvent()},_filterItems:function(){var t=this;t.imageEls=o.lang.toArray(o.q(t.option.imgCls))},_initLoadEvent:function(){var t=this,e=t.option.autoDestroy,n=function(){t._loadItems(),e&&0==t._getItemsLength()&&t.destroy()};loadLazyImg=function(){setTimeout(n,g)},o.event.on(a,l,loadLazyImg),o.event.on(a,s,loadLazyImg),o.event.on(a,m,loadLazyImg),t._loadFn=loadLazyImg,t._getItemsLength()&&o.dom.ready(n)},_loadItems:function(){var t=this;t.imageEls=o.array.filter(t.imageEls,t._loadImg,t)},_loadImg:function(t){var e=this,n=d,a=o.dom.getAttr(t,n);if(!a)return!1;if(i.inDocument(t)){if(!i._checkElemInViewport(t,e.containers))return!0;e._loadImgSrc(t,a)}else;},_loadImgSrc:function(t,e){var n=this,i=d;e&&t.src!=e&&(t.onload=function(){var e=this;if(!e.src.match(/exp_loading\.gif/i)){if(o.dom.getAttr(e,n.option.isCheckAttr))for(var i=null,a=n.option.imgAttr,r=a.length-1;r>=0;r--)i=o.dom.getAttr(e,"data-"+a[r]),i&&(o.dom.setAttr(e,a[r],i),e.removeAttribute("data-"+a[r]),i=null);o.fx.fadeIn(t,{duration:800}),o.dom.removeClass(t,n.option.imgCls),e.onload=null}},t.src=e,t.removeAttribute(i))},_getItemsLength:function(){var t=this;return t.imageEls.length},destroy:function(){var t=this,e=t._loadFn;o.event.un(a,l,e),o.event.un(a,s,e),o.event.un(a,m,e)}},n.exports=c});
;define("article:widget/ui/lazyload/lazyload.js",function(t,e,o){var i=t("common:widget/lib/tangram/base/base.js"),n=(t("common:widget/lib/tangram/fx/fadeIn/fadeIn.js"),t("common:widget/lib/fis/event/event.js").eventCenter,function(t,e){var o=arguments.callee;return this instanceof o?("undefined"==typeof e&&(e=t,t=e.container),t=t?i.g(t):document,this.containers=i.lang.toArray(t),this.options={lazyCls:"lazy-load-img",dataSrc:"data-src",diff:250,isCheckAttr:"data-is-check",imgAttr:["width","height","style"]},i.object.extend(this.options,e),this.images=[],this.loaded=[],void this.init()):new o(t,e)});n.prototype={init:function(){this.filterItems(),this.images.length>0&&this.initLoadEvent()},filterItems:function(){this.images=i.lang.toArray(i.q(this.options.lazyCls))},initLoadEvent:function(){function t(){e||(e=setTimeout(function(){o.loadItems(),0===o.images.length&&o.destroy(),e=null},100))}var e,o=this;i.event.on(window,"scroll",t),i.event.on(window,"resize",t),o._loadFn=t,o.images.length>0&&i.dom.ready(t)},loadItems:function(){var t=this;this.images=i.array.filter(this.images,function(e){var o=i.dom.getAttr(e,this.options.dataSrc);return o?t.checkElemInViewport(e)?(t.loadImage(e,o),!1):!0:!1},this)},loadImage:function(t,e){var o=this;e&&t.src!==e&&(t.onload=function(){var e=this;if(!e.src.match(/exp_loading\.gif/i)){if(i.dom.getAttr(e,o.options.isCheckAttr))for(var n=null,a=o.options.imgAttr,s=a.length-1;s>=0;s--)n=i.dom.getAttr(e,"data-"+a[s]),n&&(i.dom.setAttr(e,a[s],n),e.removeAttribute("data-"+a[s]),n=null);i.fx.fadeIn(t,{duration:800}),i.dom.removeClass(t,o.options.lazyCls),e.onload=null}},t.src=e,t.removeAttribute(o.options.dataSrc))},isCross:function(t,e){var o={};return o.top=Math.max(parseFloat(t.top),parseFloat(e.top)),o.bottom=Math.min(parseFloat(t.bottom),parseFloat(e.bottom)),o.left=Math.max(parseFloat(t.left),parseFloat(e.left)),o.right=Math.min(parseFloat(t.right),parseFloat(e.right)),o.bottom>=o.top&&o.right>=o.left},isWindow:function(t){return!!t.window&&t.window===t.window.window},getBoundingRect:function(t){var e,o,n,a;if(void 0===t||this.isWindow(t)||9===t.nodeType)e=i.page.getViewHeight(),o=i.page.getViewWidth(),n=i.page.getScrollLeft(),a=i.page.getScrollTop();else{e=t.offsetHeight,o=t.offsetWidth;var s=i.dom.getPosition(t);n=s.left,a=s.top}var r=this.options.diff,l=0===r?o:r,d=0,f=l,g=0===r?e:r,h=0,m=g,c=n+o,p=a+e;return"object"==typeof r&&(d=r.left||0,f=r.right||0,h=r.top||0,m=r.bottom||0),n-=d,c+=f,a-=h,p+=m,{left:n,top:a,right:c,bottom:p}},checkElemInViewport:function(t){var e=i.dom.getPosition(t),o=e.left,n=e.top,a=this.getBoundingRect(),s={left:o,top:n,right:o+t.offsetWidth,bottom:n+t.offsetHeight};return this.isCross(a,s)},destroy:function(){var t=this._loadFn;i.event.un(window,"scroll",t),i.event.un(window,"resize",t)}},o.exports=n});
;define("article:widget/ui/step-num/step-num.js",function(e,t,i){var n=e("common:widget/lib/tangram/base/base.js"),o=e("common:widget/lib/fis/event/event.js").eventCenter,s=e("common-jquery:widget/lib/jquery/jquery.js"),r={wrapper:"format-exp",listIcons:null,stepIcons:[],iLen:0,currentSectionIndex:0,isOrder:1,container:null,containerWidth:32,iconHeight:0,topGap:44,endDivGap:20,scrollTo:function(e){for(var t=n.page.getScrollTop(),i=10,o=1;10>=o;o++)void function(e,t,i,n){setTimeout(function(){document.documentElement.scrollTop=document.body.scrollTop=t+(i-t)/n*e},16*e)}(o,t,e,i)},clickScroll:function(e){for(var t,i=0;i<this.sectionNum&&(t=n.array.lastIndexOf(this.sectionContent[i].stepIcons,e),!(t>-1));i++);if(-1===t)throw new Error("Hey,there must be something wrong...");var o=this.sectionContent[i].listIcons[t],s=n.dom.getPosition(o);this.scrollTo(s.top-this.topGap)},fixPosition:function(){var e=n.dom.getPosition(this.sectionContent[0].listIcons[0]),t=this.topGap;n.dom.fixable(this.container,{vertival:"top",horizontal:"left",offset:{x:e.left,y:t},autofix:!0})},_init:function(){var e=document.createElement("div"),t=n.q("last-item",this.wrapper,"div"),i=t.length,r=[],l={isOrder:0,isUnOrder:0},c=6===n.browser.ie;if(e.id="exp-step-nav",0!==t.length){for(var d=0;i>d;d++){var a,p=n.dom.getAncestorByClass(t[d],"exp-conent-orderlist");p?(a={isOrder:1,iconHeight:34,klass:"list-icon",tag:"div"},l.isOrder=1):(p=n.dom.getAncestorByClass(t[d],"exp-content-unorderlist"),a={isOrder:0,iconHeight:13,klass:"exp-content-list",tag:"li"},l.isUnOrder=1);var h=s([a.tag,".",a.klass].join("")).filter(":visible"),m=h.length;a.listIcons=h,a.stepIcons=[],a.lastItem=t[d];var u=document.createElement("div");u.className=a.isOrder?"order-ico-group":"unorder-ico-group",u.id="ico-group-"+d;for(var v=0;m>v;v++){var f=document.createElement("a"),g=a.isOrder?h[v].innerHTML:v+1;f.className="list-icon-link",f.style.display="none",c&&(f.href="javascript:void(0);"),f.setAttribute("title","点击返回第"+g+"步"),a.isOrder&&f.appendChild(document.createTextNode(g)),u.appendChild(f),a.stepIcons.push(f)}r.push(a),e.appendChild(u)}l.isOrder&&l.isUnOrder&&(e.className=r[0].isOrder?"complex-order-first":"complex-unorder-first"),n.dom.setStyles(e,{width:this.containerWidth}),this.sectionContent=r,this.container=e,this.sectionNum=i,this.pageWidth=n.page.getWidth(),this.ltIe7=n.browser.ie&&n.browser.ie<8,e.style.visibility="hidden",document.body.appendChild(e);var b=this;b.setIconVisibility(),b.fixPosition(),e.style.visibility="visible",n.on(window,"scroll",function(){b.setIconVisibility(),o.fire("scrollTip.close")}),n.on(window,"resize",function(){if(b.ltIe7){var e=n.page.getWidth();if(n.g("exp-step-nav").style.visibility="hidden",e>document.documentElement.offsetWidth)return void clearTimeout(b.timer);if(b.pageWidth===e)return void(n.g("exp-step-nav").style.visibility="visible");b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){b.fixPosition(),n.g("exp-step-nav").style.visibility="visible",b.timer=null,delete b.timer},1e3),b.pageWidth=n.page.getWidth()}else b.fixPosition()}),n.on(e,"click",function(e){var t=n.event.getTarget(e);b.clickScroll(t)})}},getVisibleInfo:function(){for(var e=n.page.getScrollTop(),t=this.sectionNum,i=0,o=this.topGap,s={currentSectionIndex:0,currentStepIndex:0,visibleStepNum:0};t>i;i++){var r=this.sectionContent[i],l=r.listIcons,c=l.length,d=0;for(s.currentSectionIndex=i;c>d;d++){var a=n.dom.getPosition(l[d]).top;if(a-o>e+Math.min(d,10)*r.iconHeight)return d||(s.currentSectionIndex=-1),s.currentStepIndex=d-1,s}var p=n.dom.getPosition(r.lastItem).top;if(e+r.iconHeight*Math.min(c,10)<p)return s.currentStepIndex=c-1,s;if(p>e){var h=p-e-this.endDivGap-this.topGap,m=Math.floor(h/r.iconHeight);if(m=Math.min(c,10,m),m>0)return s.currentStepIndex=c-1,s.visibleStepNum=m,s}}return s={currentSectionIndex:-1}},setItemVisible:function(e,t,i){i?e.style.visibility=t?"visible":"hidden":e.style.backgroundPosition=t?"0 8px":"-1000px 8px"},setIconVisibility:function(){for(var e=this.getVisibleInfo(),t=e.currentSectionIndex,i=e.currentStepIndex,o=e.visibleStepNum,r=0;r<this.sectionNum;r++)if(n.g("ico-group-"+r).style.display=r===t?"block":"none",-1===t){for(var l=this.sectionContent[r].listIcons,c=this.sectionContent[r].isOrder,d=0,a=l.length;a>d;d++)this.setItemVisible(l[d],1,c);if(this.sectionNum-1===r)return}var p=this.sectionContent[t],h=p.stepIcons,m=h.length,c=p.isOrder,u=p.listIcons;if(10>i){for(var r=0;i>=r;r++)n.dom.show(h[r]),this.setItemVisible(u[r],0,c);for(var r=i+1;m>r;r++)n.dom.hide(h[r]),this.setItemVisible(u[r],1,c)}else{for(var v=i-10,r=0;v>=r;r++)n.dom.hide(h[r]),this.setItemVisible(u[r],1,c);for(var r=i+1;m>r;r++)n.dom.hide(h[r]),this.setItemVisible(u[r],1,c);for(var r=v+1;i>=r;r++)n.dom.show(h[r]),this.setItemVisible(u[r],0,c)}var f=s(".read-whole-mask").css("display");n.g("exp-step-nav").style.visibility="none"!==f?"hidden":"visible";var g=n.q("list-icon-current",this.container)[0],b=h[i];if(b!=g&&(g&&n.dom.removeClass(g,"list-icon-current"),n.dom.addClass(b,"list-icon-current")),o)for(var r=0;i-o>=r;r++)n.dom.hide(h[r])},init:function(){var e=this;setTimeout(function(){e._init()},1500)}};i.exports=r});